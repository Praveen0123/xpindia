<div fxLayout="row wrap" #resizedDiv>
  <div class="flex-p w-100">
    
    <app-shared-in-manage-visits></app-shared-in-manage-visits>
    
    <div class="row wrap" style="margin-bottom:7px;">
      <div class="col-sm-6">
      </div>
      <div class="col-sm-6">
        <div class="w-100 flex-p">
          <button mat-raised-button style="color: white !important;" class="pull-right margin-right-10 btn-success">
            <mat-icon>print</mat-icon> Print
          </button>
          <!-- <button mat-raised-button class="pull-right add-hover btn-success" (click)="openVisitDialog(null)">
            <mat-icon>add</mat-icon> Add Visit
          </button> -->
          <button mat-raised-button color="primary" style="color: white !important;" class="pull-right filter-hover margin-right-10" (click)="filterToggle = !filterToggle">
            <mat-icon>filter_list</mat-icon> Filter
          </button>
        </div>
      </div>
    </div>
    
    <div fxLayout="row wrap">
      <div fxFlex="100" fxFlex.gt-sm fxFlex.sm class="flex-p w-100" *ngIf="filterToggle">
        <mat-card class="filter">
          <mat-card-content>
            <div class="row col-sm-12">
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  Patient Name : 
                </div>
                <div class="col-sm-7">
                  <input type="text" class="form-control" placeholder="--Enter Patient Name--">
                </div>
              </div>
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  From Date : 
                </div>
                <div class="col-sm-7">
                  <div class="input-icon right">
                    <i class="fa fa-calendar" [owlDateTimeTrigger]="dt3"></i>
                    <input class="form-control" placeholder="MM/DD/YYYY" class="form-control" id="db" [owlDateTimeTrigger]="dt3" [owlDateTime]="dt3" name="dt3" [(ngModel)]="dates">
                    <owl-date-time [pickerType]="'calendar'" #dt3></owl-date-time>
                  </div>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  To Date : 
                </div>
                <div class="col-sm-7">
                  <div class="input-icon right">
                    <i class="fa fa-calendar" [owlDateTimeTrigger]="dt2"></i>
                    <input class="form-control" placeholder="MM/DD/YYYY" class="form-control" id="db" [owlDateTimeTrigger]="dt2" [owlDateTime]="dt2" name="dt2" [(ngModel)]="dates">
                    <owl-date-time [pickerType]="'calendar'" #dt2></owl-date-time>
                  </div>
                </div>
              </div>
              
            </div>
            <div class="row col-sm-12 marginTopClass">
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  Internal Physician : 
                </div>
                <div class="col-sm-7">
                  <mat-select placeholder="--Search by Physician--" multiple class="form-control">
                    <mat-option *ngFor="let option of physicianOptions" [value]="option.id">{{option.value}}</mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  Business Center : 
                </div>
                <div class="col-sm-7">
                  <mat-select placeholder="--Search by Business Center--" multiple class="form-control">
                    <mat-option *ngFor="let option of businessOptions" [value]="option.id">{{option.value}}</mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  Status : 
                </div>
                <div class="col-sm-7">
                  <mat-select placeholder="--Search by Status--" multiple class="form-control">
                    <mat-option *ngFor="let option of statusOptions" [value]="option.id">{{option.value}}</mat-option>
                  </mat-select>
                </div>
              </div>
              
              
              
              
            </div>
            <div class="row col-sm-12 marginTopClass">
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  Pharmacy : 
                </div>
                <div class="col-sm-7">
                  <mat-select placeholder="--Search by Pharmacy--" multiple class="form-control">
                    <mat-option *ngFor="let option of pharmacyOptions" [value]="option.id">{{option.value}}</mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="col-sm-5 newMarginClass">
                  Imaging Partner : 
                </div>
                <div class="col-sm-7">
                  <mat-select placeholder="--Search by Imaging Partner--" multiple class="form-control">
                    <mat-option *ngFor="let option of imagingOptions" [value]="option.id">{{option.value}}</mat-option>
                  </mat-select>
                </div>
              </div>
              
              <div class="col-lg-1">
                <button type="button" class="add-hover btn btn-success  pull-right">Search</button>
              </div>
              <div class="col-lg-2"></div>
              
              
              
            </div>
            
            
            
            
          </mat-card-content>
        </mat-card>
      </div>
    </div>
    <div fxLayout="row wrap">
      <div class="table-responsive">
        <table id="example2" class="table table-bordered table-hover">
          <thead class="tbl-head">
            <tr class="tr-grid-header">
              <th>Select</th>
              <th class="patientMinWidth">Patient</th>
              <th class="caseNumberMinWidth">Case Number</th>
              <th class="appointmentCodeMinWidth">Internal Physician</th>
              <th class="appointmentDateMinWidth">Appointment Date</th>
              <th class="businessCenterMinWidth">Business Center</th>
              <th class="recommendationTypeMinWidth">Recommendation Type</th>
              <th class="actualRecommendationType">Actual Recommendation Value</th>
              <th>Prescription</th>
              <th>Docs</th>
              <th>Notes</th>
              <th class="statusMinWidth">Status</th>
              <th>Manage</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of tableList">
              <td><mat-checkbox style="margin-top:5px;"></mat-checkbox></td>
              <td><a [routerLink]="['/sapphire/patients/patientdashboard/patientchart']" target="_blank" style="color:#007ad9!important;cursor: pointer!important;">{{item.patient}}</a></td>
              <td>{{item.caseNumber}}</td>
              <td>{{item.internalPhysician}}</td>
              <td>{{item.appointmentDate}}</td>
              <td>{{item.businessCenter}}</td>
              <td>
                <mat-select color="primary" placeholder="--Select Recommendation Type--" class="form-control" [(value)]="item.selected">
                  <mat-option [value]="0">Chiropractic Treatment</mat-option>
                  <mat-option [value]="1">Medical records</mat-option>
                  <mat-option [value]="2">Imaging</mat-option>
                  <mat-option [value]="3">Procedure</mat-option>
                  <mat-option [value]="4">Pain Management</mat-option>
                  <mat-option [value]="5">Orthopedic Evaluation</mat-option>
                  <mat-option [value]="6">Specialists</mat-option>
                  <mat-option [value]="7">Follow-up</mat-option>
                  <mat-option [value]="8">General notes</mat-option>
                  <mat-option [value]="9">Medications</mat-option>
                </mat-select>
              </td>
              <td *ngIf="item.selected != 0">{{item.actualRecommendationValue}}</td>
              <td *ngIf="item.selected === 0">
                {{item.actualRecommendationValue}}<br>
                Length of treatment {{item.lengthOfTreatment}}
              </td>
              <td><a href="../../../../../assets/img/vendor/leaflet/LOP.pdf" target="_blank" style="cursor: pointer!important;font-size:16px!important" target="_blank"><i class="fa fa-file-pdf-o" aria-hidden="true"></i></a></td>
              <td><a style="color:#007ad9!important;cursor: pointer!important;" (click)="openDocsDialog(item)">{{item.docs}}</a></td>
              <td *ngIf="item.notes === 'View'" style="background-color: #66c2ff;cursor: pointer" (click)="openRemarksModal(item)">{{item.notes}}</td>
              <td *ngIf="item.notes === 'Add'" style="background-color: black;color: white;cursor: pointer" (click)="openRemarksModal(null)">{{item.notes}}</td>
              <td>
                <mat-select color="primary" placeholder="--Select Status--" class="form-control">
                  <mat-option [value]="0">Referred</mat-option>
                  <mat-option [value]="1">Treating</mat-option>
                  <mat-option [value]="2">Completed</mat-option>
                </mat-select>
              </td>
              <td>
                <a mwlConfirmationPopover
                [popoverTitle]="popoverTitle"
                [popoverMessage]="popoverMessage"
                placement="left"
                (confirm)="deleteVisit()"
                (cancel)="cancelClicked = true" [appendToBody]="true">
                <i style="cursor: pointer;font-size:16px!important;" matTooltip="Delete Visit" class="fa fa-trash red"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>